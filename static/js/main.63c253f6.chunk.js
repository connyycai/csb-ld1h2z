(this["webpackJsonpto-do-mantine-complete"]=this["webpackJsonpto-do-mantine-complete"]||[]).push([[0],{46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(29),o=n(10),c=n(51),i=n(12),l=n(3),s=n(4),d=n(47),h=n(55),j=n(58),u=n(59),p=n(60),b=n(56),m=n(25),g=n(30),O=Object(a.createContext)();function f(){var e=Object(l.h)(),t=Object(a.useState)("true"===window.localStorage.getItem("loggedIn")),n=Object(s.a)(t,2),r=n[0],o=n[1];function c(){return(c=Object(g.a)(Object(m.a)().mark((function t(n,a){return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tpeo-todo.herokuapp.com/auth/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:n.email,password:n.password})}).then((function(e){if(200===e.status)return e.json();throw Error("Invalid")})).then((function(t){o(!0),window.localStorage.setItem("loggedIn",!0),window.localStorage.setItem("username",t.username),window.localStorage.setItem("token",t.token),e("../")})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{loggedIn:r,login:function(e,t){return c.apply(this,arguments)},logout:function(){window.localStorage.clear(),o(!1)}}}var x=n(2),v=Object(d.a)((function(e,t,n){return{appShellMain:{minHeight:"calc(100vh - ".concat(80,"px)"),display:"flex",flexDirection:"column",marginTop:"".concat(80,"px")},header:{backgroundColor:e.primaryColor},headerGroup:{height:"100%",display:"flex",alignItems:"center",margin:0,color:e.primaryColor}}}));function w(){var e=v().classes,t=Object(a.useContext)(O),n=Object(a.useState)(window.localStorage.getItem("username")),r=Object(s.a)(n,2),o=r[0],c=(r[1],Object(x.jsxs)(h.a,{className:e.headerGroup,position:"apart",children:[Object(x.jsxs)(j.a,{children:[o,"'s Todo App"]}),Object(x.jsx)(h.a,{children:Object(x.jsx)(u.a,{variant:"light",color:"red",onClick:function(){return t.logout()},children:"Logout"})})]}));return Object(x.jsx)(p.a,{header:Object(x.jsx)(b.a,{className:e.header,height:80,p:"md",fixed:!0,children:c}),classNames:{main:e.appShellMain},children:t.loggedIn?Object(x.jsx)(l.b,{}):Object(x.jsx)(l.a,{to:"/login",replace:!0})})}var y=Object(d.a)((function(e,t,n){return{AppShellRoot:{minHeight:"100vh",height:"100vh"},AppShellBody:{height:"100%"},AppShellMain:{height:"100%",padding:0}}}));function S(e){var t=y().classes;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(p.a,{classNames:{root:t.AppShellRoot,body:t.AppShellBody,main:t.AppShellMain},children:Object(x.jsx)(l.b,{})})})}var k=n(32),C=n(61),I=n(21),A=n(57);function E(){var e=Object(a.useState)([{name:"create a todo app",finished:!1},{name:"wear a mask",finished:!1},{name:"play roblox",finished:!1},{name:"be a winner",finished:!0},{name:"become a tech bro",finished:!0}]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(x.jsxs)(C.a,{align:"center",justify:"center",p:"xl",children:[function(){var e=0;return n.forEach((function(t){!1===t.finished&&(e+=1)})),1===e?Object(x.jsx)(j.a,{order:2,children:"You have 1 unfinished task"}):e>=1?Object(x.jsxs)(j.a,{order:2,children:["You have ",e," tasks left to do"]}):void 0}(),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(I.a,{value:i,placeholder:"Type your task here",onChange:function(e){return l(e.target.value)}}),Object(x.jsx)(u.a,{rightIcon:Object(x.jsx)(k.a,{}),onClick:function(){i&&(n.includes(i)?alert("Task already exists"):r(n.concat({name:i,completed:!1})),l(""))},children:"Add"})]}),Object(x.jsx)(C.a,{children:n.map((function(e,t){return Object(x.jsx)(A.a,{checked:e.finished,index:t,label:e.name,onChange:function(){return t=e.name,void r(n.map((function(e){return e.name===t&&(e.finished=!e.finished),e})));var t}},e.name)}))})]})}var B=n(26),D=n(53),N=n(52),P=n(54),T=Object(d.a)((function(e,t,n){return{inputWrapper:{width:250}}}));function M(){var e=Object(a.useContext)(O),t=T().classes,n=Object(D.a)({initialValues:{email:"",password:""},validate:{email:function(e){return/^\S+@\S+$/.test(e)?null:"Invalid email"}}});return Object(x.jsx)("form",{onSubmit:n.onSubmit((function(t){console.log(n,t),e.login(t,n)})),children:Object(x.jsxs)(C.a,{align:"center",justify:"center",p:"xl",children:[Object(x.jsx)(j.a,{order:1,children:"Login"}),Object(x.jsx)(N.a,Object(B.a)({classNames:{wrapper:t.inputWrapper},required:!0,label:"Email",placeholder:"tpeorocks@roblox.com"},n.getInputProps("email"))),Object(x.jsx)(P.a,Object(B.a)({classNames:{wrapper:t.inputWrapper},placeholder:"angularbad",label:"Password",required:!0},n.getInputProps("password"))),Object(x.jsx)(h.a,{position:"center",children:Object(x.jsx)(u.a,{type:"submit",children:"Login"})})]})})}var q=function(){return Object(x.jsx)(O.Provider,{value:f(),children:Object(x.jsxs)(l.e,{children:[Object(x.jsx)(l.c,{path:"/",element:Object(x.jsx)(w,{}),children:Object(x.jsx)(l.c,{index:!0,element:Object(x.jsx)(E,{})})}),Object(x.jsx)(l.c,{path:"/login",element:Object(x.jsx)(S,{}),children:Object(x.jsx)(l.c,{index:!0,element:Object(x.jsx)(M,{})})})]})})},F=document.getElementById("root");Object(r.createRoot)(F).render(Object(x.jsx)(a.StrictMode,{children:Object(x.jsxs)(o.a,{theme:{colors:{"longhorn-orange":["#E8E1DA","#DBCCBE","#D2B9A1","#CFA783","#D29761","#DC883C","#ED7A11","#C26F23","#A0642E","#865B34","#715236","#604A36","#534334"]},primaryColor:"longhorn-orange"},children:[Object(x.jsx)(c.a,{styles:function(){return{"*, *::before, *::after":{boxSizing:"border-box"},"html, body, div, span, applet, object, iframe,           h1, h2, h3, h4, h5, h6, p, blockquote, pre,           a, abbr, acronym, address, big, cite, code,           del, dfn, em, img, ins, kbd, q, s, samp,           small, strike, strong, sub, sup, tt, var,           b, u, i, center,           dl, dt, dd, ol, ul, li,           fieldset, form, label, legend,           table, caption, tbody, tfoot, thead, tr, th, td,           article, aside, canvas, details, embed,           figure, figcaption, footer, header, hgroup,           menu, nav, output, ruby, section, summary,           time, mark, audio, video":{margin:0,padding:0,border:0,verticalAlign:"baseline"}}}}),Object(x.jsx)(i.a,{children:Object(x.jsx)(q,{})})]})}))}},[[46,1,2]]]);
//# sourceMappingURL=main.63c253f6.chunk.js.map